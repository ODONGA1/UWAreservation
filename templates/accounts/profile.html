{% extends 'base.html' %}

{% block title %}My Profile - {{ user.get_full_name|default:user.username }} | UWA Wildlife Tours{% endblock %}
{% block description %}Manage your UWA Wildlife Tours profile, view booking history, and update account settings.{% endblock %}

{% block extra_head %}
<style>
    /* Notification Badge Animation */
    .notification-badge {
        animation: pulse-red 2s infinite;
        box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
    }
    
    @keyframes pulse-red {
        0% {
            transform: scale(0.95);
            box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
        }
        
        70% {
            transform: scale(1);
            box-shadow: 0 0 0 10px rgba(239, 68, 68, 0);
        }
        
        100% {
            transform: scale(0.95);
            box-shadow: 0 0 0 0 rgba(239, 68, 68, 0);
        }
    }
    
    /* Notification wiggle animation */
    .notification-wiggle {
        animation: wiggle 0.5s ease-in-out infinite alternate;
    }
    
    @keyframes wiggle {
        0% {
            transform: rotate(-3deg);
        }
        100% {
            transform: rotate(3deg);
        }
    }
    
    /* Bell shake animation */
    .bell-shake {
        animation: bellShake 1s ease-in-out infinite;
    }
    
    @keyframes bellShake {
        0%, 50%, 100% {
            transform: rotate(0deg);
        }
        10%, 30% {
            transform: rotate(-10deg);
        }
        20%, 40% {
            transform: rotate(10deg);
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- Profile Header -->
<section class="bg-gradient-to-br from-safari-600 via-wildlife-600 to-safari-700 text-white py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex flex-col md:flex-row items-center space-y-6 md:space-y-0 md:space-x-8">
            <!-- Profile Avatar -->
            <div class="relative">
                <div class="w-32 h-32 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center border-4 border-white/30">
                    <i data-lucide="user" class="w-16 h-16 text-white"></i>
                </div>
                <button class="absolute bottom-2 right-2 w-8 h-8 bg-safari-500 rounded-full flex items-center justify-center hover:bg-safari-400 transition-colors">
                    <i data-lucide="camera" class="w-4 h-4 text-white"></i>
                </button>
            </div>
            
            <!-- Profile Info -->
            <div class="flex-1 text-center md:text-left">
                <h1 class="font-display text-4xl md:text-5xl font-bold mb-2">
                    {% if user.get_full_name %}
                        {{ user.get_full_name }}
                    {% else %}
                        {{ user.username }}
                    {% endif %}
                </h1>
                <div class="flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-6 text-white/90">
                    <div class="flex items-center space-x-2">
                        <i data-lucide="mail" class="w-4 h-4"></i>
                        <span>{{ user.email }}</span>
                    </div>
                    <div class="flex items-center space-x-2">
                        <i data-lucide="calendar" class="w-4 h-4"></i>
                        <span>Member since {{ user.date_joined|date:"F Y" }}</span>
                    </div>
                    <div class="flex items-center space-x-2">
                        <i data-lucide="map-pin" class="w-4 h-4"></i>
                        <span>Adventure Explorer</span>
                    </div>
                </div>
                <div class="mt-4 flex flex-wrap gap-2 justify-center md:justify-start">
                    <span class="bg-white/20 backdrop-blur-sm text-white px-3 py-1 rounded-full text-sm font-medium">
                        Wildlife Enthusiast
                    </span>
                    <span class="bg-white/20 backdrop-blur-sm text-white px-3 py-1 rounded-full text-sm font-medium">
                        Conservation Supporter
                    </span>
                </div>
            </div>
            
            <!-- Quick Actions -->
            <div class="flex flex-col space-y-3">
                <a href="{% url 'accounts:edit_profile' %}" class="bg-white text-safari-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors flex items-center space-x-2">
                    <i data-lucide="edit" class="w-4 h-4"></i>
                    <span>Edit Profile</span>
                </a>
                <a href="{% url 'booking:user_bookings' %}" class="border-2 border-white text-white px-6 py-3 rounded-lg font-semibold hover:bg-white hover:text-safari-600 transition-colors text-center flex items-center space-x-2">
                    <i data-lucide="calendar" class="w-4 h-4"></i>
                    <span>My Bookings</span>
                </a>
                
                <!-- UWA Staff Only: User Management Button -->
                {% if profile.is_staff %}
                    <a href="{% url 'accounts:manage_users' %}" class="bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-blue-800 transition-all duration-200 flex items-center space-x-2 shadow-lg">
                        <i data-lucide="users" class="w-4 h-4"></i>
                        <span>Manage Users</span>
                    </a>
                {% endif %}
                
                <!-- Tour Operators and UWA Staff: Park Management -->
                {% if profile.is_operator or profile.is_staff %}
                    <a href="{% url 'tours:park_list' %}" class="bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-lg font-semibold hover:from-green-700 hover:to-green-800 transition-all duration-200 flex items-center space-x-2 shadow-lg">
                        <i data-lucide="map" class="w-4 h-4"></i>
                        <span>Browse Parks</span>
                    </a>
                    <a href="{% url 'tours:tour_list' %}" class="bg-gradient-to-r from-purple-600 to-purple-700 text-white px-6 py-3 rounded-lg font-semibold hover:from-purple-700 hover:to-purple-800 transition-all duration-200 flex items-center space-x-2 shadow-lg">
                        <i data-lucide="compass" class="w-4 h-4"></i>
                        <span>Browse Tours</span>
                    </a>
                    {% if user.profile.is_staff %}
                    <a href="{% url 'tours:manage_parks' %}" class="bg-gradient-to-r from-orange-600 to-orange-700 text-white px-6 py-3 rounded-lg font-semibold hover:from-orange-700 hover:to-orange-800 transition-all duration-200 flex items-center space-x-2 shadow-lg">
                        <i data-lucide="settings" class="w-4 h-4"></i>
                        <span>Parks Management</span>
                    </a>
                    {% endif %}
                    {% if user.profile.is_operator %}
                    <a href="{% url 'tours:manage_tours' %}" class="bg-gradient-to-r from-orange-600 to-orange-700 text-white px-6 py-3 rounded-lg font-semibold hover:from-orange-700 hover:to-orange-800 transition-all duration-200 flex items-center space-x-2 shadow-lg">
                        <i data-lucide="settings" class="w-4 h-4"></i>
                        <span>Tours Management</span>
                    </a>
                    {% endif %}
                {% endif %}
            </div>
        </div>
    </div>
</section>

<!-- Profile Content -->
<section class="py-16 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Main Content -->
            <div class="lg:col-span-2 space-y-8">
                <!-- Profile Stats -->
                <div class="bg-white rounded-2xl shadow-lg p-8">
                    <h2 class="font-display text-2xl font-bold text-gray-900 mb-6 flex items-center space-x-2">
                        <i data-lucide="bar-chart" class="w-6 h-6 text-safari-600"></i>
                        <span>Adventure Statistics</span>
                    </h2>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-gradient-to-br from-safari-500 to-safari-600 rounded-full flex items-center justify-center mx-auto mb-3">
                                <i data-lucide="calendar-check" class="w-8 h-8 text-white"></i>
                            </div>
                            <div class="text-2xl font-bold text-gray-900">{{ total_bookings }}</div>
                            <div class="text-sm text-gray-600">Total Bookings</div>
                        </div>
                        <div class="text-center">
                            <div class="w-16 h-16 bg-gradient-to-br from-wildlife-500 to-wildlife-600 rounded-full flex items-center justify-center mx-auto mb-3">
                                <i data-lucide="map-pin" class="w-8 h-8 text-white"></i>
                            </div>
                            <div class="text-2xl font-bold text-gray-900">{{ parks_visited }}</div>
                            <div class="text-sm text-gray-600">Parks Visited</div>
                        </div>
                        <div class="text-center">
                            <div class="w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center mx-auto mb-3">
                                <i data-lucide="users" class="w-8 h-8 text-white"></i>
                            </div>
                            <div class="text-2xl font-bold text-gray-900">{{ people_brought }}</div>
                            <div class="text-sm text-gray-600">People Brought</div>
                        </div>
                        <div class="text-center">
                            <div class="w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-3">
                                <i data-lucide="award" class="w-8 h-8 text-white"></i>
                            </div>
                            <div class="text-2xl font-bold text-gray-900">{{ adventure_level }}</div>
                            <div class="text-sm text-gray-600">Adventure Level</div>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="bg-white rounded-2xl shadow-lg p-8">
                    <h2 class="font-display text-2xl font-bold text-gray-900 mb-6 flex items-center space-x-2">
                        <i data-lucide="activity" class="w-6 h-6 text-safari-600"></i>
                        <span>Recent Activity</span>
                    </h2>
                    <div class="space-y-4">
                        {% for booking in recent_bookings %}
                            <div class="flex items-center space-x-4 p-4 bg-gray-50 rounded-lg">
                                <div class="w-12 h-12 bg-gradient-to-br from-safari-500 to-wildlife-500 rounded-lg flex items-center justify-center">
                                    <i data-lucide="calendar-check" class="w-6 h-6 text-white"></i>
                                </div>
                                <div class="flex-1">
                                    <h3 class="font-semibold text-gray-900">{{ booking.availability.tour.name }}</h3>
                                    <p class="text-sm text-gray-600">
                                        {{ booking.availability.date|date:"M d, Y" }} • {{ booking.num_of_people }} people • ${{ booking.total_cost }}
                                    </p>
                                    {% if booking.availability.tour.park %}
                                        <p class="text-xs text-safari-600">{{ booking.availability.tour.park.name }}</p>
                                    {% endif %}
                                </div>
                                <div class="text-right">
                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                                        {% if booking.booking_status == 'confirmed' %}bg-green-100 text-green-800
                                        {% elif booking.booking_status == 'pending' %}bg-yellow-100 text-yellow-800
                                        {% elif booking.booking_status == 'cancelled' %}bg-red-100 text-red-800
                                        {% elif booking.booking_status == 'completed' %}bg-blue-100 text-blue-800
                                        {% else %}bg-gray-100 text-gray-800{% endif %}">
                                        {{ booking.get_booking_status_display }}
                                    </span>
                                    <div class="text-xs text-gray-500 mt-1">{{ booking.booking_date|date:"M d" }}</div>
                                </div>
                            </div>
                        {% empty %}
                            <div class="text-center py-12">
                                <div class="w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <i data-lucide="calendar-x" class="w-8 h-8 text-gray-400"></i>
                                </div>
                                <h3 class="text-lg font-semibold text-gray-900 mb-2">No bookings yet</h3>
                                <p class="text-gray-600 mb-4">Start your wildlife adventure by booking your first tour!</p>
                                <a href="{% url 'tours:tour_list' %}" class="bg-gradient-to-r from-safari-600 to-wildlife-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition-all duration-200 inline-flex items-center space-x-2">
                                    <i data-lucide="binoculars" class="w-4 h-4"></i>
                                    <span>Browse Tours</span>
                                </a>
                            </div>
                        {% endfor %}
                        
                        {% if total_bookings > 10 %}
                            <div class="text-center pt-4">
                                <a href="{% url 'booking:user_bookings' %}" class="text-safari-600 hover:text-safari-700 font-medium flex items-center justify-center space-x-1">
                                    <span>View All Bookings</span>
                                    <i data-lucide="arrow-right" class="w-4 h-4"></i>
                                </a>
                            </div>
                        {% endif %}
                    </div>
                </div>

                <!-- Achievements -->
                <div class="bg-white rounded-2xl shadow-lg p-8">
                    <h2 class="font-display text-2xl font-bold text-gray-900 mb-6 flex items-center space-x-2">
                        <i data-lucide="trophy" class="w-6 h-6 text-safari-600"></i>
                        <span>Achievements</span>
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="flex items-center space-x-4 p-4 bg-gradient-to-r from-safari-50 to-wildlife-50 rounded-lg">
                            <div class="w-12 h-12 bg-gradient-to-br from-safari-500 to-safari-600 rounded-full flex items-center justify-center">
                                <i data-lucide="user-plus" class="w-6 h-6 text-white"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-900">Welcome Explorer</h3>
                                <p class="text-sm text-gray-600">Joined UWA Wildlife Tours</p>
                            </div>
                        </div>
                        
                        {% if total_bookings >= 1 %}
                            <div class="flex items-center space-x-4 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg">
                                <div class="w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center">
                                    <i data-lucide="calendar-check" class="w-6 h-6 text-white"></i>
                                </div>
                                <div>
                                    <h3 class="font-semibold text-gray-900">First Adventure</h3>
                                    <p class="text-sm text-gray-600">Made your first booking</p>
                                </div>
                            </div>
                        {% endif %}
                        
                        {% if completed_bookings >= 5 %}
                            <div class="flex items-center space-x-4 p-4 bg-gradient-to-r from-wildlife-50 to-orange-50 rounded-lg">
                                <div class="w-12 h-12 bg-gradient-to-br from-wildlife-500 to-wildlife-600 rounded-full flex items-center justify-center">
                                    <i data-lucide="award" class="w-6 h-6 text-white"></i>
                                </div>
                                <div>
                                    <h3 class="font-semibold text-gray-900">Adventure Enthusiast</h3>
                                    <p class="text-sm text-gray-600">Completed {{ completed_bookings }} tours</p>
                                </div>
                            </div>
                        {% endif %}
                        
                        {% if parks_visited >= 3 %}
                            <div class="flex items-center space-x-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg">
                                <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center">
                                    <i data-lucide="map" class="w-6 h-6 text-white"></i>
                                </div>
                                <div>
                                    <h3 class="font-semibold text-gray-900">Park Explorer</h3>
                                    <p class="text-sm text-gray-600">Visited {{ parks_visited }} different parks</p>
                                </div>
                            </div>
                        {% endif %}
                        
                        <div class="flex items-center space-x-4 p-4 bg-gray-50 rounded-lg opacity-50">
                            <div class="w-12 h-12 bg-gray-300 rounded-full flex items-center justify-center">
                                <i data-lucide="heart" class="w-6 h-6 text-gray-500"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-600">Conservation Champion</h3>
                                <p class="text-sm text-gray-500">Support 3+ conservation projects</p>
                            </div>
                        </div>
                    </div>
                </div>

                {% if unread_notifications > 0 %}
                <!-- Notifications Summary -->
                <div class="bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 rounded-2xl shadow-lg p-8">
                    <h2 class="font-display text-2xl font-bold text-gray-900 mb-6 flex items-center space-x-2">
                        <div class="relative">
                            <i data-lucide="bell" class="w-6 h-6 text-red-600 bell-shake"></i>
                            <span class="absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center notification-badge">
                                <span class="text-white text-xs font-bold">{{ unread_notifications }}</span>
                            </span>
                        </div>
                        <span>You have {{ unread_notifications }} notification{{ unread_notifications|pluralize }}</span>
                    </h2>
                    <div class="flex items-center justify-between">
                        <div class="flex-1">
                            <p class="text-gray-700 mb-4">
                                {% if unread_notifications == 1 %}
                                    You have an important notification waiting for you.
                                {% else %}
                                    You have {{ unread_notifications }} important notifications waiting for you.
                                {% endif %}
                            </p>
                            <div class="flex flex-wrap gap-2 mb-4">
                                {% if confirmed_bookings > 0 %}
                                    <span class="bg-orange-100 text-orange-800 text-sm px-3 py-1 rounded-full font-medium notification-wiggle">
                                        Upcoming Tours
                                    </span>
                                {% endif %}
                                {% if total_bookings == 0 %}
                                    <span class="bg-green-100 text-green-800 text-sm px-3 py-1 rounded-full font-medium notification-wiggle">
                                        Welcome Offer
                                    </span>
                                {% endif %}
                                {% if completed_bookings > 0 and completed_bookings %}
                                    <span class="bg-purple-100 text-purple-800 text-sm px-3 py-1 rounded-full font-medium notification-wiggle">
                                        Achievement Updates
                                    </span>
                                {% endif %}
                            </div>
                        </div>
                        <div>
                            <a href="{% url 'accounts:notifications' %}" class="bg-red-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-700 transition-colors inline-flex items-center space-x-2">
                                <i data-lucide="bell" class="w-4 h-4"></i>
                                <span>View Notifications</span>
                            </a>
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>

            <!-- Sidebar -->
            <div class="space-y-8">
                <!-- Account Settings -->
                <div class="bg-white rounded-2xl shadow-lg p-6">
                    <h3 class="font-display text-xl font-bold text-gray-900 mb-4 flex items-center space-x-2">
                        <i data-lucide="settings" class="w-5 h-5 text-safari-600"></i>
                        <span>Account Settings</span>
                    </h3>
                    <div class="space-y-3">
                        <a href="{% url 'accounts:edit_profile' %}" class="w-full text-left px-4 py-3 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-3">
                            <i data-lucide="user" class="w-4 h-4 text-gray-400"></i>
                            <span class="text-gray-700">Personal Information</span>
                            <i data-lucide="chevron-right" class="w-4 h-4 text-gray-400 ml-auto"></i>
                        </a>
                        <a href="{% url 'accounts:change_password' %}" class="w-full text-left px-4 py-3 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-3">
                            <i data-lucide="lock" class="w-4 h-4 text-gray-400"></i>
                            <span class="text-gray-700">Change Password</span>
                            <i data-lucide="chevron-right" class="w-4 h-4 text-gray-400 ml-auto"></i>
                        </a>
                        <a href="{% url 'accounts:notification_settings' %}" class="w-full text-left px-4 py-3 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-3">
                            <div class="relative">
                                <i data-lucide="bell" class="w-4 h-4 text-gray-400 {% if unread_notifications > 0 %}bell-shake{% endif %}"></i>
                                {% if unread_notifications > 0 %}
                                    <span class="absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full flex items-center justify-center notification-badge">
                                        <span class="text-white text-xs font-bold leading-none">{{ unread_notifications|default:"" }}</span>
                                    </span>
                                {% endif %}
                            </div>
                            <span class="text-gray-700">Notifications</span>
                            {% if unread_notifications > 0 %}
                                <span class="ml-auto bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full notification-wiggle">{{ unread_notifications }}</span>
                            {% else %}
                                <i data-lucide="chevron-right" class="w-4 h-4 text-gray-400 ml-auto"></i>
                            {% endif %}
                        </a>
                        <a href="{% url 'accounts:payment_methods' %}" class="w-full text-left px-4 py-3 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-3">
                            <i data-lucide="credit-card" class="w-4 h-4 text-gray-400"></i>
                            <span class="text-gray-700">Payment Methods</span>
                            <i data-lucide="chevron-right" class="w-4 h-4 text-gray-400 ml-auto"></i>
                        </a>
                    </div>
                </div>

                <!-- Quick Links -->
                <div class="bg-white rounded-2xl shadow-lg p-6">
                    <h3 class="font-display text-xl font-bold text-gray-900 mb-4 flex items-center space-x-2">
                        <i data-lucide="external-link" class="w-5 h-5 text-safari-600"></i>
                        <span>Quick Links</span>
                    </h3>
                    <div class="space-y-3">
                        <a href="{% url 'tours:tour_list' %}" class="block px-4 py-3 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-3">
                            <i data-lucide="binoculars" class="w-4 h-4 text-safari-600"></i>
                            <span class="text-gray-700">Browse Tours</span>
                        </a>
                        <a href="{% url 'booking:user_bookings' %}" class="block px-4 py-3 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-3">
                            <i data-lucide="calendar" class="w-4 h-4 text-safari-600"></i>
                            <span class="text-gray-700">My Bookings</span>
                        </a>
                        <a href="{% url 'accounts:wishlist' %}" class="block px-4 py-3 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-3">
                            <i data-lucide="heart" class="w-4 h-4 text-safari-600"></i>
                            <span class="text-gray-700">Wishlist</span>
                        </a>
                        <a href="{% url 'accounts:help_support' %}" class="block px-4 py-3 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-3">
                            <i data-lucide="help-circle" class="w-4 h-4 text-safari-600"></i>
                            <span class="text-gray-700">Help & Support</span>
                        </a>
                    </div>
                </div>

                <!-- Conservation Impact -->
                <div class="bg-gradient-to-br from-green-500 to-emerald-600 text-white rounded-2xl p-6">
                    <h3 class="font-display text-xl font-bold mb-4 flex items-center space-x-2">
                        <i data-lucide="leaf" class="w-5 h-5"></i>
                        <span>Conservation Impact</span>
                    </h3>
                    <div class="space-y-4">
                        <div>
                            <div class="text-2xl font-bold">${{ conservation_contribution|floatformat:0 }}</div>
                            <div class="text-green-100 text-sm">Contributed to conservation</div>
                        </div>
                        <div>
                            <div class="text-lg font-semibold">{{ trees_planted }} trees</div>
                            <div class="text-green-100 text-sm">Planted through your tours</div>
                        </div>
                        <p class="text-green-100 text-sm">
                            Every booking contributes to Uganda's wildlife conservation efforts. Thank you for making a difference!
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_scripts %}
<script>
    // Profile functionality
    document.addEventListener('DOMContentLoaded', function() {
        // Profile image upload placeholder
        const cameraButton = document.querySelector('button:has(i[data-lucide="camera"])');
        if (cameraButton) {
            cameraButton.addEventListener('click', function() {
                // Placeholder for profile image upload
                alert('Profile image upload feature coming soon!');
            });
        }
        
        // Smooth transitions for hover effects
        const cards = document.querySelectorAll('.hover\\:shadow-lg');
        cards.forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-2px)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });
        
        // Add loading states for navigation
        const navLinks = document.querySelectorAll('a[href*="accounts"]');
        navLinks.forEach(link => {
            link.addEventListener('click', function() {
                // Add a subtle loading indication
                const icon = this.querySelector('i[data-lucide="chevron-right"]');
                if (icon) {
                    icon.style.transform = 'rotate(90deg)';
                    icon.style.transition = 'transform 0.2s ease';
                }
            });
        });
    });
</script>
{% endblock %}
