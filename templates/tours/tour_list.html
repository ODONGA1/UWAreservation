<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>UWA Tours - Wildlife Adventures</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
        background-color: #f8f9fa;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
      }
      .header {
        text-align: center;
        margin-bottom: 40px;
        padding: 30px;
        background: linear-gradient(135deg, #007bff, #28a745);
        color: white;
        border-radius: 10px;
      }
      .tours-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 30px;
        margin-bottom: 40px;
      }
      .tour-card {
        background: white;
        border-radius: 10px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        transition: transform 0.3s, box-shadow 0.3s;
      }
      .tour-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
      }
      .tour-image {
        height: 200px;
        background: linear-gradient(45deg, #007bff, #28a745);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 3em;
        overflow: hidden;
      }
      .tour-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
      .tour-content {
        padding: 25px;
      }
      .tour-title {
        color: #007bff;
        margin: 0 0 10px 0;
        font-size: 1.5em;
      }
      .tour-title a {
        color: inherit;
        text-decoration: none;
      }
      .tour-title a:hover {
        text-decoration: underline;
      }
      .tour-info {
        color: #6c757d;
        margin-bottom: 15px;
      }
      .tour-description {
        color: #495057;
        margin-bottom: 20px;
        line-height: 1.5;
      }
      .tour-meta {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        padding: 15px;
        background: #f8f9fa;
        border-radius: 5px;
      }
      .price {
        font-size: 1.4em;
        font-weight: bold;
        color: #28a745;
      }
      .availability {
        text-align: right;
      }
      .availability-status {
        font-size: 0.9em;
        color: #6c757d;
      }
      .availability-next {
        font-weight: bold;
        color: #007bff;
      }
      .tour-actions {
        display: flex;
        gap: 10px;
      }
      .btn {
        flex: 1;
        padding: 12px 20px;
        text-align: center;
        text-decoration: none;
        border-radius: 5px;
        font-weight: bold;
        transition: background-color 0.3s;
      }
      .btn-primary {
        background-color: #007bff;
        color: white;
      }
      .btn-primary:hover {
        background-color: #0056b3;
      }
      .btn-success {
        background-color: #28a745;
        color: white;
      }
      .btn-success:hover {
        background-color: #218838;
      }
      .btn-secondary {
        background-color: #6c757d;
        color: white;
      }
      .btn-secondary:hover {
        background-color: #545b62;
      }
      .navigation {
        text-align: center;
        margin: 40px 0;
      }
      .nav-link {
        display: inline-block;
        margin: 0 15px;
        padding: 10px 20px;
        background: #007bff;
        color: white;
        text-decoration: none;
        border-radius: 5px;
      }
      .nav-link:hover {
        background: #0056b3;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header" style="background-image: linear-gradient(rgba(0,123,255,0.8), rgba(40,167,69,0.8)), url('{{ MEDIA_URL }}gallery/hero_uganda_landscape.jpg'); background-size: cover; background-position: center;">
        <h1>ü¶Å UWA Wildlife Tours</h1>
        <p>Discover Uganda's Amazing Wildlife Adventures</p>
        <p style="margin-top: 20px; font-size: 1.1em;">Experience the Pearl of Africa's incredible biodiversity with authentic wildlife tours</p>
      </div>

      <div class="navigation">
        <a href="{% url 'tours:tour_list' %}" class="nav-link">üè† All Tours</a>
        <a href="{% url 'booking:user_bookings' %}" class="nav-link"
          >üìã My Bookings</a
        >
        <a href="{% url 'admin:index' %}" class="nav-link">‚öôÔ∏è Admin</a>
      </div>

      <div class="tours-grid">
        {% for tour in tours %}
        <div class="tour-card">
          <div class="tour-image">
            {% if tour.image %}
            <img src="{{ tour.image.url }}" alt="{{ tour.name }}" />
            {% else %}
            ü¶Å
            {% endif %}
          </div>

          <div class="tour-content">
            <h2 class="tour-title">
              <a href="{% url 'tours:tour_detail' tour.id %}"
                >{{ tour.name }}</a
              >
            </h2>

            <div class="tour-info">
              üìç {{ tour.park.name }} {% if tour.duration %} ‚Ä¢ ‚è∞ {{ tour.duration }} hours {% endif %} {% if tour.max_participants %} ‚Ä¢ üë• Max {{ tour.max_participants }} people {% endif %}
            </div>
            
            <!-- Rating display -->
            <div class="tour-rating" style="margin-bottom: 10px;">
              {% load rating_tags %}
              {% display_rating_summary tour %}
            </div>

            {% if tour.description %}
            <div class="tour-description">
              {{ tour.description|truncatewords:25 }}
            </div>
            {% endif %}

            <div class="tour-meta">
              <div class="price">${{ tour.price }}</div>
              <div class="availability">
                {% if tour.next_available %}
                <div class="availability-next">
                  Next: {{ tour.next_available.date|date:"M d" }}
                </div>
                <div class="availability-status">
                  {{ tour.total_upcoming }} dates available
                </div>
                {% else %}
                <div class="availability-status" style="color: #dc3545">
                  No upcoming dates
                </div>
                {% endif %}
              </div>
            </div>

            <div class="tour-actions">
              <a
                href="{% url 'tours:tour_detail' tour.id %}"
                class="btn btn-primary"
              >
                üìã View Details
              </a>
              {% if tour.next_available %}
              <a
                href="{% url 'tours:tour_booking' tour.id %}"
                class="btn btn-success"
              >
                üé´ Book Now
              </a>
              {% else %}
              <button class="btn btn-secondary" disabled>
                üò¥ Not Available
              </button>
              {% endif %}
            </div>
          </div>
        </div>
        {% empty %}
        <div style="text-align: center; padding: 40px; color: #6c757d">
          <h3>No tours available</h3>
          <p>Check back later for exciting wildlife adventures!</p>
        </div>
        {% endfor %}
      </div>

      <!-- Wildlife Gallery Section -->
      <div style="margin: 50px 0; text-align: center;">
        <h2 style="color: #007bff; margin-bottom: 30px; font-size: 2em;">ü¶Å Uganda's Wildlife Gallery</h2>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 30px;">
          <div style="position: relative; overflow: hidden; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
            <img src="{{ MEDIA_URL }}gallery/uganda_wildlife_1.jpg" alt="Mountain Gorillas" style="width: 100%; height: 200px; object-fit: cover;">
            <div style="position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(transparent, rgba(0,0,0,0.8)); color: white; padding: 20px; font-weight: bold;">Mountain Gorillas</div>
          </div>
          <div style="position: relative; overflow: hidden; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
            <img src="{{ MEDIA_URL }}gallery/uganda_wildlife_2.jpg" alt="African Lions" style="width: 100%; height: 200px; object-fit: cover;">
            <div style="position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(transparent, rgba(0,0,0,0.8)); color: white; padding: 20px; font-weight: bold;">Tree-Climbing Lions</div>
          </div>
          <div style="position: relative; overflow: hidden; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
            <img src="{{ MEDIA_URL }}gallery/uganda_wildlife_3.jpg" alt="African Elephants" style="width: 100%; height: 200px; object-fit: cover;">
            <div style="position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(transparent, rgba(0,0,0,0.8)); color: white; padding: 20px; font-weight: bold;">African Elephants</div>
          </div>
        </div>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 20px;">
          <div style="position: relative; overflow: hidden; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
            <img src="{{ MEDIA_URL }}gallery/uganda_landscape_1.jpg" alt="Murchison Falls" style="width: 100%; height: 250px; object-fit: cover;">
            <div style="position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(transparent, rgba(0,0,0,0.8)); color: white; padding: 20px; font-weight: bold;">Murchison Falls</div>
          </div>
          <div style="position: relative; overflow: hidden; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
            <img src="{{ MEDIA_URL }}gallery/uganda_landscape_2.jpg" alt="Uganda Forests" style="width: 100%; height: 250px; object-fit: cover;">
            <div style="position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(transparent, rgba(0,0,0,0.8)); color: white; padding: 20px; font-weight: bold;">Pristine Forests</div>
          </div>
        </div>
      </div>

      <!-- About UWA Section -->
      <div style="background: linear-gradient(135deg, #f8f9fa, #e9ecef); padding: 40px; border-radius: 15px; margin: 40px 0;">
        <h2 style="color: #007bff; text-align: center; margin-bottom: 30px;">üõ°Ô∏è About Uganda Wildlife Authority</h2>
        <div style="max-width: 800px; margin: 0 auto; text-align: center; line-height: 1.6;">
          <p style="font-size: 1.1em; margin-bottom: 20px;">
            Uganda Wildlife Authority (UWA) is the government agency responsible for managing Uganda's wildlife conservation areas. 
            We protect over 10 national parks and multiple wildlife reserves, safeguarding the incredible biodiversity of the Pearl of Africa.
          </p>
          <p style="font-size: 1em; color: #6c757d;">
            From the endangered mountain gorillas in Bwindi to the magnificent tree-climbing lions in Queen Elizabeth National Park, 
            our conservation efforts ensure these natural treasures are preserved for future generations.
          </p>
        </div>
      </div>
    </div>
  </body>
</html>
